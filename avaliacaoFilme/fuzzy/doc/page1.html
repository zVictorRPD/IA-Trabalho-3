<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><!-- InstanceBegin template="/Templates/page.dwt" codeOutsideHTMLIsLocked="false" -->	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<link href="styles.css" type="text/css" rel="stylesheet">		<script language="JavaScript" src="javascript.js"></script>		<title>Fuzzy Java Engine</title>	</head>	<body background="images/bg_image_grey.png">		<div align="center">			<br>			<table width="624" border="0" cellspacing="0" cellpadding="0">				<tr>					<td width="14"><img src="images/toolbar_left.png" alt="" width="18" height="42" border="0"></td>					<td background="images/toolbar_middle.png">						<table width="514" border="0" cellspacing="0" cellpadding="0">							<tr>								<td><a href="index.html"><img src="images/button0.png" ALT="Button 0" Name ="b0" border="0" OnMouseOver="bOver('b0');" OnMouseOut="bOut('b0');"></a><a href="page1.html"><img src="images/button1.png" ALT="Button 1" Name ="b1" border="0" OnMouseOver="bOver('b1');" OnMouseOut="bOut('b1');"></a><a href="example.html"><img src="images/button2.png" ALT="Button 2" Name ="b2" border="0" OnMouseOver="bOver('b2');" OnMouseOut="bOut('b2');"></a><a href="javaDoc/index.html"><img src="images/button3.png" ALT="Button 3" Name ="b3" border="0" OnMouseOver="bOver('b3');" OnMouseOut="bOut('b3');"></a><a href="download.html"><img src="images/button4.png" ALT="Button 4" Name ="b4" border="0" OnMouseOver="bOver('b4');" OnMouseOut="bOut('b4');"></a></td>							</tr>						</table>					</td>					<td width="14"><img src="images/toolbar_right.png" alt="" width="18" height="42" border="0"></td>				</tr>			</table>			<br>			<table width="64" border="0" cellspacing="0" cellpadding="0">				<tr>					<td><img src="images/content_top.png" alt="" width="616" height="8" border="0"></td>				</tr>				<tr>					<td background="images/content_middle.png">						<div align="center">							<table width="600" border="0" cellspacing="0" cellpadding="3">								<tr>									<td valign="top">										<div align="">											<H1><!-- InstanceBeginEditable name="BodyTitle" -->Fuzzy Theory <!-- InstanceEndEditable --></H1>												<!-- InstanceBeginEditable name="BodyMatter" --><h2>Linguistic Variables and Membership Functions<br>												</h2>												<p>Linguistic variables closely interact with both Java code and fuzzy rules. The same linguistic variable can participate in fuzzy evaluations performed by different fuzzy engines. Each fuzzy assignment will be accounted for during defuzzification. Each linguistic variable has an arbitrary number of associated membership functions: each membership function is represented by a trapezoid. Trapezoidal membership functions allow simple implementation of the most widely used forms: rectangle, triangle and trapezoid.</p>												<table width="100%"  border="1">                                                  <caption>                                                  Creating and Defining a Linguistic Variable                                                  </caption>                                                  <tr>                                                    <th scope="col">Step</th>                                                    <th scope="col"><span style="">Example</span></th>                                                    <th scope="col">Note</th>                                                  </tr>                                                  <tr>                                                    <td><p>1. Allocation of a linguistic variable</p></td>                                                    <td><p><code>LinguisticVariable angle = Factory.makeLinguisticVariable(&quot;angle&quot;);</p></span></td>                                                    <td><p>The String argument is the name/label of this particular linguistic variable in the rules</p></td>                                                  </tr>                                                  <tr>                                                    <td><p>2. Definition of membership functions</p></td>                                                    <td><p><code>angle.add(&quot;negative&quot;, -3.14, -3.14, 0.0314, 0);</p></span></td>                                                    <td> <p>&quot;Negative&quot; here is the name that will be used to address this membership function (if angle is negative ...), other four parameters define four key points of a trapezoid. They follow in the order of left bottom, left top, right top and right bottom points.</p></td>                                                  </tr>                                                </table>												<h2>Hedges</h2>																								<p>Hedges allow to express different degrees of membership in a fuzzy set. The package has three predefined hedges:</p><blockquote>"not" -<img SRC="image002.gif" height=24 width=83><br>"very" -<img SRC="image004.gif" height=27 width=72><br>"somewhat" -<img SRC="image006.gif" height=27 width=100></blockquote><p>Arbitrary hedges can be defined by deriving classes from the base classHedge. Method <code>getName()</code> should return a string containing the hedge name.Method <code>hedgeIt()</code> should perform the desired hedge operation.</p><h2>Fuzzy Rules</h2><p>All fuzzy evaluations are based on the rules in the symbolic representation. Linguistic variables, membership functions, hedges and fuzzy operations are referenced by their respective symbolic names. Symbolic representation of the rules allows easy understanding of the rules and simplifies the debugging process. Fuzzy rules are represented by text strings in the following format:</p><p><blockquote><p><code>&lt;label> if LV1 is &lt;hedge ...> MF1 &lt;and/or LV2is &lt;hedge ...> MF2 and/or ...> then LVN is &lt;hedge ...> MFN ... &lt;and rule label weight is &lt;hedge ...> weightMF></code></p>  <p><code> &lt;label> set LV1 is &lt;hedge ...> MF1 &lt;and LV2 is &lt;hedge...> MF2 ...> &lt;and rule label weight is &lt;hedge ...> weightMF></code></p></blockquote><p>&nbsp;</p><table width="100%"  border="1">  <caption>  Parts of a Fuzzy Rule  </caption>  <tr>    <th width="20%" >Part</th>    <th >Description</th>  </tr>  <tr>    <td width="20%"><div align="center"><p><code>label</code></p></div></td>    <td><p>A text label assigned to a rule. A rule's default weight  is 1.0. The weight can be changed by executing expression of the form<br>      &quot;<code>rule label weight is weightMF</code>&quot; <br>      in the right part of a rule. The same label can be assigned to more than one rule. In this case weight change will affect all of the labeled rules.</p>      <p>Example: <code>start: if angle is ...</code></p></td>  </tr>  <tr>    <td width="20%"><div align="center"><p><code>if</code><p></div></td>    <td><p>A service word indicating the beginning of the left part (evaluation part) of a fuzzy rule.</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>LV</code></p>    </div></td>    <td><p>A linguistic variable. Linguistic variables are addressed by their names. Each linguistic variable has one or more associated membership functions.</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>is</code></p>    </div></td>    <td><p>A service word separating linguistic variable and hedges/membership function.</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>hedge</code></p>    </div></td>    <td><p>The engine has 3 predefined hedges: &quot;not&quot;, &quot;very&quot; and &quot;somewhat&quot;. The user can define arbitrary hedges and use them in rules.</p>      <p>Example: <code>if weather is not very nice ...</code></p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>MF</code></p>    </div></td>    <td><p>A membership function. Membership functions are addressed by their names. Each membership function is defined as a trapezoid.</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>and/or</code></p>    </div></td>    <td><p>Service words indicating logical operation to be performed on the neighboring fuzzy expressions. Priority of the and/or operations decreases from left to right and may be changed by applying parenthesis. The engine supports arbitrary number of expressions on the left part, arbitrary nesting and and/or operations.</p>      <p>Example: <code>if angle is wide or (angle is normal and (speed is high or speed is normal))</code> ...</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>then</code></p>    </div></td>    <td><p>A service word separating left part of expression from the right part (execution part). Result obtained from evaluation of the left part is used to perform fuzzy assignments in the right part. The form of fuzzy expressions is the same as in the evaluation part, except assignment is performed instead of evaluation. During the assignment, hedges apply to the result of evaluation part. Application of the hedges is local for each fuzzy expression. If more than one assignment is to be performed, then fuzzy expression should separated by the service word &quot;and&quot; . </p>      <p>Example: ... <code>then power is very low and steering is toTheLeft</code></p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>weight</code></p>    </div></td>    <td><p>This is a reserved linguistic variable. Linguistic variable &quot;weight&quot; is defined by the user and serves for the purpose of changing a rule's weight. A copy of this LV is created for each unique label. Changes of weight are performed by defuzzification of the copy assigned to a particular label, thus multiple weight changes are carried out in fuzzy manner. How much a rule's weight will be changed depends both on definition of membership functions for &quot;weight&quot;, evaluation result after application of hedges and number of assignments.</p>      <p>Example: </p><p><code>LinguisticVariable weight= Factory.makeLinguisticVariable(&quot;weight&quot;);<br>  weight.add(&quot;low&quot;,0,0,0.2,0.3); <br>  ...<br>  fuzzyEngine.evaluateRule(&quot;start: if angle is wide then rule start: weight is low&quot;);</code></p><p>When weight assignment is performed on the same rule that assigns the weight (see Example) then only one iteration of weight change is performed, i.e. it does not fall into an endless loop of weight change.</p></td>  </tr>  <tr>    <td width="20%"><div align="center">      <p><code>set</code></p>    </div></td>    <td><p>A service word for unconditional assignments. If &quot;set&quot; is encountered instead of &quot;if&quot;, result of the left part evaluation is assumed to be 1.0 and all assignments are performed for that value.<br></p>      <p>Example: <code>set power is low</code> ...</p></td>  </tr></table><h2>Evaluating Rules</h2><p>All fuzzy evaluations are performed by a fuzzy engine. This Java class allows parsing and evaluation of fuzzy rules. The following example illustrates the main steps necessary for performing a fuzzy evaluation:</p><table width="100%"  border="1">  <caption>  Steps to Evaluating Rules  </caption>  <tr>    <th width="20%" scope="col"><p>Step</p></th>    <th scope="col"><p></p></th>  </tr>  <tr>    <td width="25%"><p>1. Create linguistic variables and define membership functions</p></td>    <td><p><code>Factory factory = Factory.getFactory();<br>      <br>      LinguisticVariable angle = factory.makeLinguisticVariable(&quot;angle&quot;);<br>      <br>      angle.add(&quot;negative&quot;,-3.14,-3.14,0,0);<br>      angle.add(&quot;positive&quot;,0,0,3.14,3.14);<br>      <br>      LinguisticVariable power = factory.makeLinguisticVariable(&quot;power&quot;);<br>      <br>      power.add(&quot;decreased&quot;,-2,-1,-1,0);<br>      power.add(&quot;increased&quot;,0,1,1,2);</code></p></td>  </tr>  <tr>    <td width="25%"><p>2. Create a fuzzy context</p></td>    <td><p><code>FuzzyState state = factory.makeFuzzyState();</code></p></td>  </tr>  <tr>    <td width="25%"><p>3. Register all linguistic variables</p></td>    <td><p><code>state.register(angle);<br>      state.register(power);</code></p></td>  </tr>  <tr>    <td width="25%"><p>4. Load and parse rules</p></td>    <td><p><code>Reader ruleTextReader = /* create a java.io.Reader to the text rules */ ;<br>      RuleBlock ruleBlock = fuzzyState.createRuleExecutionSet(ruleTextReader);</code></p></td>  </tr>  <tr>    <td width="25%"><p>5. Peform fuzzy evaluations</p></td>    <td><p><code>ruleBlock.executeRules();</code></p></td>  </tr>  <tr>    <td width="25%"><p>6. Obtain the result(s)</p></td>    <td><p><code>double result = power.defuzzify();</code></p></td>  </tr></table><p> Linguistic variables must be defined (registered) before parsing can occur. Parsing is performed on a java.io.Reader to provide a great deal of flexibility in how rules are loaded. The RuleBlock may be used to execute the rules over and over. </p>												<!-- InstanceEndEditable -->												<br>											</p>										</div>									</td>								</tr>							</table>						</div>					</td>				</tr>				<tr>					<td><img src="images/content_bottom.png" alt="" width="616" height="8" border="0"></td>				</tr>			</table>			<br>			<div align="center">				<table width="64" border="0" cellspacing="0" cellpadding="0">					<tr>						<td><img src="images/content_top.png" alt="" width="616" height="8" border="0"></td>					</tr>					<tr>						<td background="images/content_middle.png">							<div align="center">								<table width="600" border="0" cellspacing="0" cellpadding="3">									<tr>									<td><div align="left">									<a  href="http://sourceforge.net"><img  src="http://sourceforge.net/sflogo.php?group_id=131680&amp;type=1"  width="88" height="31" border="0" alt="SourceForge.net Logo"  /></a>									</div>									</td>										<td>																							<div align="right"><span class="FooterStyle"><!-- InstanceBeginEditable name="Modified" -->11/04/2004<!-- InstanceEndEditable --></span>												  										        </div></td>									</tr>								</table>							</div>						</td>					</tr>					<tr>						<td><img src="images/content_bottom.png" alt="" width="616" height="8" border="0"></td>					</tr>				</table>				<p></p>			</div>		</div>	</body><!-- InstanceEnd --></html>